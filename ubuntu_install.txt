<pre>

Ubuntu Linux
## turn off network for fast installation

## mirror in china
## ubuntu (?) -> help
## https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/

$ cp /etc/apt/sources.list /etc/apt/sources.list.bak
$ sudo sed -i "s@http://.*archive.ubuntu.com@https://mirrors.tuna.tsinghua.edu.cn@g" /etc/apt/sources.list
$ sudo sed -i "s@http://.*security.ubuntu.com@https://mirrors.tuna.tsinghua.edu.cn@g" /etc/apt/sources.list
$ apt update
$ apt upgrade

## add user to sudo group
$ usermod -a -G sudo `whoami`
$ groups
sudo
$

## set default editor
$ update-alternatives --config editor

$ vi ~/.vimrc
set hlsearch
set nowrapscan
:syntax off
$

$ cat ~/.inputrc
set editing-mode vi
$

$ vi ~/.profile # ~/.bash_profile # ~/.bashrc
PS1='\$ '
export HISTCONTROL="ignoredups:erasedups"
export PROMPT_COMMAND='history -a'
$

$ apt install openssh-server
$ apt install samba
$ sudo smbpasswd -a `whoami`

$ vi /etc/samba/smb.conf
[homes]
  browseable = no
  read only = no
  create mask = 0755
  directory mask = 0755
$

$ systemctl | grep -i ssh
$ systemctl enable ssh smbd nmbd
$ systemctl start ssh smbd nmbd
$ systemctl disable ufw

## firewall
$ ufw app list
$ ufw allow Samba

## list files in package
$ dpkg -L vim
/usr/bin/vim.basic
$

## show the package name of a file
$ dpkg -S /usr/bin/vim.basic
vim: /usr/bin/vim.basic
$

## find large size directories or files
$ du -h -d1 /home/* | sort -hr | head -5

## find for tree
$ find . -print | sed -e 's;[^/]*/;|____;g;s;____|; |;g'

## gcc gdb gcc-doc gdb-doc c++ cmake manpages-dev
$ apt install build-essential

## VSCode clangd (do not forget CodeLLDB)
$ sudo apt install clangd

---

## resize disk partition
$ apt install gparted

$ lsblk
$ df -h
$ fdisk /dev/sdb
$ mkfs.ext4 /dev/sdb1
$ mkdir /mnt/data
$ mount /dev/sdb1 /mnt/data
$ vi /etc/fstab
  /dev/sdb1 /mnt/data ext4 defaults 0 0
$ mount /mnt/data/

## dynamic ip address
$ vi /etc/netplan/00-installer-config.yaml
network:
  ethernets:
    eth0:
      dhcp4: true
$ netplan apply

## replace `dhcp4` with static ip
$ vi /etc/netplan/00-installer-config.yaml
network:
  ethernets:
    eth0:
      addresses:
        - 192.168.1.123/24
      gateway4: 192.168.1.1
      nameservers:
        search: [mydomain, otherdomain]
        addresses: [192.168.1.1, 8.8.8.8]
$

$ timedatectl list-timezones
$ timedatectl set-timezone "Asia/Shanghai"

$ ls -l /etc/systemd/system/default.target
/etc/systemd/system/default.target -> /lib/systemd/system/multi-user.target
$ systemctl set-default multi-user.target # graphical.target
$ init 3 # 5

---

## chinese input method (ime) ibus-libpinyin
  Settings / Region & Language / Manage Installed Languages / Language
  / Install Remove Languages... / Chinese (Simplified): * / Apply
## relogin required
## add an input source
  Settings / Keyboard / Input Sources / + / Chinese
  / Chinese (intelligent pinyin) / Add

---

## hide "show applications" on dock
$ gsettings set org.gnome.shell.extensions.dash-to-dock show-show-apps-button false

## Left Super
$ gsettings get org.gnome.mutter overlay-key
'Super_L'
$ gsettings set org.gnome.mutter overlay-key ''

## settings / keyboard shortcuts
View split on left : Super + Left arrow
View split on right: Super + Left arrow
Restore window     : Super + Down arrow
Maximize window    : Super + Up arrow

---

# Error constructing proxy for org.gnome.Terminal
$ localectl set-locale LANG="en_US.UTF-8"
$ shutdown -r now

---




</pre>
